---
title: "Developer Notes"
date: 2018-02-22T17:12:17-05:00
---



<div id="sra" class="section level2">
<h2>SRA</h2>
<p>The SRA metadata are mined from the <a href="http://ftp.ncbi.nlm.nih.gov/sra/reports/Mirroring/">reports/Mirroring</a> directory. The files there include five XML files:</p>
<ul>
<li>Experiment</li>
<li>Sample</li>
<li>Run</li>
<li>Study</li>
<li>Analysis</li>
</ul>
<p>These five files each contain all the records from the NCBI copy of SRA, as well as all data that have been mirrored from the EBI and DDBJ, the European and Japanese partners for NCBI. An additional three csv files, <code>fileinfo_addons</code>, <code>fileinfo_runs</code>, and <code>livelist</code> contain technical metadata such as update dates and file sizes.</p>
<p>These files are <em>updated monthly</em> and placed into a “Full” mirroring folder. Other folders in the mirroring directory contain only updated records;</p>
<p>{{&lt; note title=“Note” &gt;}} We do not currently process the “update” records, only the monthly “Full” dataset. {{&lt; /note &gt;}}</p>
</div>
<div id="workflow" class="section level2">
<h2>Workflow</h2>
<ol style="list-style-type: decimal">
<li>Copy files from NCBI to s3 bucket</li>
<li>Convert XML and CSV files to [Parquet] format and save back to s3</li>
<li>Perform data cleanup process (just basic flattening, column name changes for convenience) using [Apache Spark] and save results back to s3</li>
<li>Join SRA entities to produce <em>run-level</em> and <em>experiment-level</em> data summaries.</li>
<li>Perform data dumps.</li>
</ol>
<pre class="r"><code>print(&#39;hello&#39;)</code></pre>
<pre><code>## [1] &quot;hello&quot;</code></pre>
</div>
